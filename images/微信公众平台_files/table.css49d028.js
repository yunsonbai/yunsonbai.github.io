define("pages/modules/media_dialog/video_ad_backpanel_dialog/video_ad_backpanel_dialog.js",["vue-weui/src/form/form-item.js","vue-weui/src/radio/radio.js","vue-weui/src/radio/radio_group.js","vue-weui/src/dialog/dialog.js","vue-weui/src/button/button.js","vue-weui/src/checkbox/checkbox.js","pages/modules/media_dialog/video_ad_backpanel_dialog/video_ad_backpanel_dialog.css.js","pages/modules/media_dialog/video_ad_backpanel_dialog/video_ad_backpanel_dialog.tpl.js"],function(e,i,a){"use strict"
e("vue-weui/src/form/form-item.js"),e("vue-weui/src/radio/radio.js"),e("vue-weui/src/radio/radio_group.js"),e("vue-weui/src/dialog/dialog.js"),e("vue-weui/src/button/button.js"),e("vue-weui/src/checkbox/checkbox.js"),e("pages/modules/media_dialog/video_ad_backpanel_dialog/video_ad_backpanel_dialog.css.js")
var o=e("pages/modules/media_dialog/video_ad_backpanel_dialog/video_ad_backpanel_dialog.tpl.js")
Vue.component("mp-backpanel-dialog",{template:o,props:{title:{type:String,default:"开启尾贴广告"},type:{type:String,default:"deal"},value:{type:Boolean,default:!0}},data:function(){return{dialogTipsOpen:!0,hasAgreeContract:!1,disabled:!0,dialogShow:!1}},watch:{value:function(e){!0===e?this.show():this.hide()},dialogShow:function(e){this.$emit("input",e)},hasAgreeContract:function(e){this.hanldeAgreeChange(e)}},methods:{show:function(){!0!==this.dialogShow&&(this.dialogShow=!0)},hide:function(){!1!==this.dialogShow&&(this.dialogShow=!1)},hanldeAgreeChange:function(e){this.disabled=!e},onDialogClose:function(e){this[e]=!1,this.hide(),this.$emit("cancel")},onConfirm:function(){this.$emit("select",!0),this.hide()}}})})
define("pages/modules/media_dialog/video_ad_backpanel_dialog/video_ad_backpanel_dialog.css.js", [], function (require, exports, module){module.exports = "/*How to usefont-family: 'wechatnum';*/.video-ad-backpanel-deal-dialog .weui-desktop-dialog__bd {  text-align: center;  padding: 60px 0;}.video-ad-backpanel-deal-dialog .dialog_foot_tips {  margin-bottom: 10px;}.video-ad-backpanel-select-dialog .video-ad-preview-box {  position: relative;  width: 200px;  height: 130px;  margin: 0 auto;  background-color: #000;}.video-ad-backpanel-select-dialog .video-ad-preview-box-operation {  position: absolute;  bottom: 10px;  left: 10px;  line-height: 18px;  border-radius: 9px;  background-color: gray;  padding: 0 10px;  color: #fff;  text-align: center;  display: inline-block;  font-size: 12px;}.video-ad-backpanel-select-dialog .weui-desktop-form__control-group_choose {  padding: 30px 150px 0;  margin-bottom: 0;}.video-ad-backpanel-select-dialog .weui-desktop-form__label {  float: none;  margin-bottom: 10px;  display: block;  width: auto;}.video-ad-backpanel-select-dialog .weui-desktop-form__controls {  width: initial;}.video-ad-backpanel-select-dialog .weui-desktop-form__check-label {  display: block;  margin-bottom: 10px;}.video-ad-backpanel-select-dialog .video-ad-backpanel-select-foot-tips {  color: #9A9A9A;  margin-bottom: 20px;}";});define("pages/modules/media_dialog/video_ad_backpanel_dialog/video_ad_backpanel_dialog.tpl.js",[],function(e,i,s){return'<div>    <mp-dialog v-if="type === \'deal\'" v-model="dialogShow" weui="true" class="video-ad-backpanel-deal-dialog" :title="title" @close="onDialogClose(\'dialogTipsOpen\')">    <template>      <div class="cps-select-dialog_info weui-desktop-msg__inner">        <span class="weui-desktop-msg__hd">          <i class="weui-desktop-icon-info weui-desktop-icon_msg"></i>        </span>        <div class="weui-desktop-msg__bd">          <h4 class="weui-desktop-msg__title">开启后贴广告，将自动开通流量主</h4>          <div class="weui-desktop-msg__desc-wrp">            <div class="weui-desktop-msg__desc">广告收益可在流量主查看数据报表 <a target="_blank" href="/promotion/publisher/publisher_index?">了解更多</a></div>            <div class="weui-desktop-msg__desc">                                    </div>          </div>        </div>        </div>    </template>    <template slot="footer">            <div class="dialog_foot_tips">        <mp-checkbox v-model="hasAgreeContract">        我已阅读并同意<a href="https://mp.weixin.qq.com/cgi-bin/readtemplate?t=home/adhost_agreement_tmpl" target="_blank">《腾讯微信公众平台广告展示服务协议》</a>        </mp-checkbox>      </div>      <mp-button type="primary" @click="onConfirm(\'open\')" :disabled="disabled">确定</mp-button>    </template>  </mp-dialog>  </div>'})
define("pages/editor/videoTransitionDialog4web1.js",["pages/modules/media_dialog/video_ad_transition_dialog/video_ad_transition_dialog.js"],function(i,o,a){"use strict"
function e(i){return{dialogShow:!0,isShow:!1,selectedvalue:i}}i("pages/modules/media_dialog/video_ad_transition_dialog/video_ad_transition_dialog.js"),a.exports={getParmas:e,bindEvent:function(i){i.eventBus.$on("showVideoAdTransitionDialog",function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e(o.selectedValue)
for(var n in o)void 0!==a[n]&&(a[n]=o[n])
for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(i.params[t]=a[t])
i.params.isShow=!0})},close:function(i){i.eventBus.$emit("showVideoAdTransitionDialog_callback",i.data)}}})
define("pages/modules/media_dialog/video_ad_transition_dialog/video_ad_transition_dialog.js",["vue-weui/src/form/form-item.js","vue-weui/src/radio/radio.js","vue-weui/src/radio/radio_group.js","vue-weui/src/dialog/dialog.js","vue-weui/src/button/button.js","vue-weui/src/checkbox/checkbox.js","pages/modules/media_dialog/video_ad_transition_dialog/video_ad_transition_dialog.css.js","pages/modules/media_dialog/video_ad_transition_dialog/video_ad_transition_dialog.tpl.js"],function(i,o,e){"use strict"
i("vue-weui/src/form/form-item.js"),i("vue-weui/src/radio/radio.js"),i("vue-weui/src/radio/radio_group.js"),i("vue-weui/src/dialog/dialog.js"),i("vue-weui/src/button/button.js"),i("vue-weui/src/checkbox/checkbox.js"),i("pages/modules/media_dialog/video_ad_transition_dialog/video_ad_transition_dialog.css.js")
var t=i("pages/modules/media_dialog/video_ad_transition_dialog/video_ad_transition_dialog.tpl.js")
Vue.component("mp-transition-dialog",{template:t,props:{title:{type:String,default:"开启尾贴广告"},type:{type:String,default:"deal"},value:{type:Boolean,default:!0},selectedvalue:{type:String,default:""}},data:function(){return{dialogShow:!1,isActive:!1}},watch:{value:function(i){!0===i?this.show():this.hide()},dialogShow:function(i){this.$emit("input",i)}},methods:{show:function(){!0!==this.dialogShow&&(this.dialogShow=!0)},hide:function(){!1!==this.dialogShow&&(this.dialogShow=!1)},onDialogClose:function(i){this[i]=!1,this.hide(),this.$emit("cancel",!1)},onConfirm:function(){this.$emit("select",this.selectedvalue),this.hide()},removeAnimation:function(){this.isActive=!1},handleShowAnimation:function(){this.isActive=!0,setTimeout(this.removeAnimation,1e3)}}})})
define("pages/modules/media_dialog/video_ad_transition_dialog/video_ad_transition_dialog.css.js", [], function (require, exports, module){module.exports = "/*How to usefont-family: 'wechatnum';*/.video-ad-backpanel-deal-dialog .weui-desktop-dialog__bd {  text-align: center;  padding: 60px 0;}.video-ad-backpanel-deal-dialog .dialog_foot_tips {  margin-bottom: 10px;}.video-ad-backpanel-select-dialog .video-ad-preview-box {  position: relative;  width: 200px;  height: 130px;  margin: 0 auto;  background-color: #000;}.video-ad-backpanel-select-dialog .video-ad-preview-box.active {  -webkit-animation: popup 0.4s ease 0s 1;          animation: popup 0.4s ease 0s 1;}.video-ad-backpanel-select-dialog .video-ad-preview-box.active .video-ad-preview-info {  -webkit-animation: fadeinout 2s ease 0s 1 forwards;          animation: fadeinout 2s ease 0s 1 forwards;}.video-ad-backpanel-select-dialog .video-ad-preview-box.active .video-ad-preview-box-operation {  -webkit-animation: operationHide 2s ease 0s 1;          animation: operationHide 2s ease 0s 1;}.video-ad-backpanel-select-dialog .video-ad-preview-info {  line-height: 130px;  text-align: center;  color: #fff;}.video-ad-backpanel-select-dialog .video-ad-preview-box-operation {  position: absolute;  bottom: 10px;  left: 10px;  line-height: 18px;  border-radius: 9px;  background-color: gray;  padding: 0 10px;  color: #fff;  text-align: center;  display: inline-block;  font-size: 12px;}.video-ad-backpanel-select-dialog .weui-desktop-form__control-group_choose {  padding: 30px 150px 0;  margin-bottom: 0;}.video-ad-backpanel-select-dialog .weui-desktop-form__label {  float: none;  margin-bottom: 10px;  display: block;  width: auto;}.video-ad-backpanel-select-dialog .weui-desktop-form__controls {  width: initial;}.video-ad-backpanel-select-dialog .weui-desktop-form__check-label {  display: block;  margin-bottom: 10px;}.video-ad-backpanel-select-dialog .video-ad-backpanel-select-foot-tips {  color: #9A9A9A;  margin-bottom: 20px;}@-webkit-keyframes popup {  0% {    opacity: 0;    -webkit-transform: scale(0.8);            transform: scale(0.8);  }  70% {    -webkit-transform: scale(1.02);            transform: scale(1.02);  }  100% {    opacity: 1;    -webkit-transform: scale(1);            transform: scale(1);  }}@keyframes popup {  0% {    opacity: 0;    -webkit-transform: scale(0.8);            transform: scale(0.8);  }  70% {    -webkit-transform: scale(1.02);            transform: scale(1.02);  }  100% {    opacity: 1;    -webkit-transform: scale(1);            transform: scale(1);  }}@-webkit-keyframes fadeinout {  0% {    opacity: 0;  }  50% {    opacity: 1;  }  /*80%{    opacity: 1;  }*/  100% {    opacity: 1;  }}@keyframes fadeinout {  0% {    opacity: 0;  }  50% {    opacity: 1;  }  /*80%{    opacity: 1;  }*/  100% {    opacity: 1;  }}@-webkit-keyframes operationHide {  0% {    opacity: 0;  }  100% {    opacity: 0;  }}@keyframes operationHide {  0% {    opacity: 0;  }  100% {    opacity: 0;  }}";});define("pages/modules/media_dialog/video_ad_transition_dialog/video_ad_transition_dialog.tpl.js",[],function(e,a,o){return'<div>    <mp-dialog v-if="type === \'setting\'" v-model="dialogShow" weui="true" class="video-ad-backpanel-select-dialog" :title="title" @close="onDialogClose">    <template>      <div class="video-ad-backpanel-select-body">        <mp-form-item class="weui-desktop-form__control-group_choose">          <template slot="label">你可以选择一个广告过渡效果，让视频播放完成后更自然地展示视频后贴广告。</template>          <mp-radio-group v-model="selectedvalue">            <mp-radio value=\'接下来，是广告时间\' name="test" checked>接下来，是广告时间</mp-radio>            <mp-radio value=\'最后，是今天的广告\' name="test">最后，是今天的广告</mp-radio>            <mp-radio value=\'广告时刻，获取更多讯息\' name="test">广告时刻，获取更多讯息</mp-radio>            <mp-radio value=\'即将进入广告，3、2、1\' name="test">即将进入广告，3、2、1</mp-radio>            <mp-radio value=\'最后是今日广告，敬请探索\' name="test">最后是今日广告，敬请探索</mp-radio>          </mp-radio-group>        </mp-form-item>        <div class="video-ad-backpanel-select-preview">            <div class="video-ad-preview-box" :class="{\'active\': isActive}">                <p class="video-ad-preview-info">{{ selectedvalue }}</p>                <a class="video-ad-preview-box-operation" href="javascript:;" @click="handleShowAnimation">查看过渡示例</a>            </div>        </div>      </div>    </template>    <template slot="footer">      <p class="video-ad-backpanel-select-foot-tips">此处只能设置本视频的尾贴广告 </p>      <mp-button type="primary" @click="onConfirm">确定</mp-button>      <mp-button @click="onDialogClose">取消</mp-button>    </template>  </mp-dialog>  </div>'})
define("pages/editor/cpsDialog4Web1.js",["pages/modules/media_dialog/cps_dialog/cps_dialog.js"],function(i,s,o){"use strict"
function t(){return{title:"选择商品",isShow:!1,choiceLimit:10,tipStatus:{},sessionId:""}}i("pages/modules/media_dialog/cps_dialog/cps_dialog.js"),o.exports={getParmas:t,bindEvent:function(i){i.eventBus.$on("showCpsDialog",function(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o={title:"选择商品",isShow:!1,choiceLimit:10,tipStatus:{},sessionId:""}
for(var t in s)void 0!==o[t]&&(o[t]=s[t])
for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&(i.params[e]=o[e])
i.params.isShow=!0})},close:function(i){i.eventBus.$emit("showCpsDialog_callback",i.data)}}})
define("pages/modules/media_dialog/cps_dialog/cps_dialog.js",["vue-weui/src/step/step.js","vue-weui/src/step/step_item.js","vue-weui/src/form/form.js","vue-weui/src/form/form_control_group.js","vue-weui/src/input/input.js","vue-weui/src/icon/icon.js","vue-weui/src/button/button.js","vue-weui/src/popover/popover.js","vue-weui/src/search/search.js","vue-weui/src/dropdown/dropdown.js","vue-weui/src/table/table.js","vue-weui/src/checkbox/checkbox.js","vue-weui/src/utils/string.js","vue-weui/src/radio/radio.js","vue-weui/src/radio/radio_group.js","pages/modules/dropdown_filter/dropdown_filter.js","pages/modules/dropdown_area/dropdown_area.js","pages/modules/utils/cgi.js","vue-weui/src/utils/object.js","pages/modules/media_dialog/cps_dialog/cps_dialog.css.js","pages/modules/media_dialog/cps_dialog/cps_dialog.tpl.js"],function(t,e,i){"use strict"
t("vue-weui/src/step/step.js"),t("vue-weui/src/step/step_item.js"),t("vue-weui/src/form/form.js"),t("vue-weui/src/form/form_control_group.js"),t("vue-weui/src/input/input.js"),t("vue-weui/src/icon/icon.js"),t("vue-weui/src/button/button.js"),t("vue-weui/src/popover/popover.js"),t("vue-weui/src/search/search.js"),t("vue-weui/src/dropdown/dropdown.js"),t("vue-weui/src/table/table.js"),t("vue-weui/src/checkbox/checkbox.js"),t("vue-weui/src/utils/string.js"),t("vue-weui/src/radio/radio.js"),t("vue-weui/src/radio/radio_group.js"),t("pages/modules/dropdown_filter/dropdown_filter.js"),t("pages/modules/dropdown_area/dropdown_area.js")
var r=t("pages/modules/utils/cgi.js"),o=t("vue-weui/src/utils/object.js")
t("pages/modules/media_dialog/cps_dialog/cps_dialog.css.js")
var s=t("pages/modules/media_dialog/cps_dialog/cps_dialog.tpl.js")
Vue.component("mp-cps-dialog",{template:s,props:{title:{type:String,default:"选择商品"},value:{type:Boolean,default:!0},choiceLimit:{type:Number,default:10},tipStatus:{type:Object},sessionId:{type:String,default:"id_undefine"}},data:function(){return{dialogShow:!1,dialogHeight:window.innerHeight<820?740:window.innerHeight-80,dialogMain:!1,dialogTipsNoCommission:!1,dialogTipsOpen:!1,dialogTipsForbid:!1,categoryList:[],categorySelected:{},merchantList:[{name:"全部商家",id:0}],merchantSelected:{},merchantTotalCount:-1,merchantSearchCount:30,merchantSearchList:[],merchantSearchEmpty:!1,productList:[],productTotalCount:-1,productSearchCount:10,productListLoading:!0,productListShowGetMore:!0,productSearchPlacehodler:"输入商品名称搜索",productSearchClearShow:!1,selectedProductCount:0,selectedProductList:[],reportedProductList:[],commissionList:[{label:"默认排序",value:0,id:0},{label:"按返佣比例降序",value:1,id:1}],commissionSelected:{},searchProduct:{disabled:!1,value:""},areaList:[],areaListKey:"country",areaSelected:{},areaCanGetMore:!0,areaSearchCount:25,areaSearchEmpty:!1,areaSearchList:[],areaWording:"全部地区",productQrCode:"",dealCheckOpenPublisher:!0,btnOpenPublisherLoading:!1,baseInfo:{}}},watch:{value:function(t){!0===t?this.show():this.hide()},dialogShow:function(t){this.$emit("input",t)},productList:function(t){if(0!==t.length){var e=0
t.forEach(function(t){t.user_selected&&e++}),this.selectedProductCount=e}else this.selectedProductCount=0}},create:function(){this.commissionSelected=this.commissionList[0],this.merchantSelected=this.merchantList[0]},computed:{merchantCanSearch:function(){return this.merchantTotalCount>20},showResetBtn:function(){var t=!1
return!this.categorySelected||16!==this.categorySelected.id&&17!==this.categorySelected.id||"全部地区"!==this.areaWording&&(t=!0),this.commissionSelected&&this.commissionSelected.id&&(t=!0),this.merchantSelected&&this.merchantSelected.id&&(t=!0),t}},mounted:function(){!0===this.value&&this.show()},methods:{show:function(){!0!==this.dialogShow&&(this.dialogShow=!0,this.onDialogOpen("dialogMain"),this.httpGetBaseInfo())},hide:function(t){!1!==this.dialogShow&&(this.dialogShow=!1,"callback"===t?(this.reportProductInsertToMsg(),this.$emit("select",this.callbackData)):this.$emit("cancel"))},onDialogClose:function(t){this[t]=!1,this.hide(),this.$emit("cancel")},onDialogOpen:function(t){this[t]=!0},onConfirm:function(t){if("main"===t){if(!this.baseInfo.is_publisher&&!this.baseInfo.can_be_publisher)return this.dialogTipsForbid=!0,void(this.dialogMain=!1)
if(this.getSelectedProductList(),this.selectedProductList.length>this.choiceLimit)return this.$tipsErr("超出上限，当前最多选择%s个插入文章".sprintf(this.choiceLimit)),void this.reportUserAction({type:"cps_product_limit"})
if(0===this.selectedProductList.length)return void this.$tipsErr("请选择商品")
if(this.tipStatus.choiceNoCommissionNeedTip&&this.hasNoCommission)return this.dialogTipsNoCommission=!0,void(this.dialogMain=!1)
if(!this.baseInfo.is_publisher&&this.baseInfo.can_be_publisher)return this.dialogMain=!1,void(this.dialogTipsOpen=!0)
this.dialogMain=!1,this.hide("callback")}else"noCommission"===t?(this.dialogTipsNoCommission=!1,!0===this.baseInfo.is_publisher?this.hide("callback"):this.dialogTipsOpen=!0):"open"===t?(this.reportUserAction({type:"display_fast_cps_pane"}),this.httpSetPulisher()):"forbid"===t&&(this.dialogMain=!1,this.dialogTipsForbid=!1,this.reportUserAction({type:"display_not_be_publisher_pane"}),this.hide())},onResetDropdown:function(){this.areaSelected={},this.areaWording="全部地区",this.commissionSelected=this.commissionList[0],this.merchantSelected=this.merchantList[0],this.httpGetProductList(!0,!1)},onViewIncome:function(t){this.reportUserAction({type:t}),window.openUrl("/cgi-bin/frame?t=ad_system/common_frame&t1=publisher/publisher_cps_new",{},!0)},getSelectedProductList:function(){var t=this,e=[],i=[],r=[],o=[]
this.hasNoCommission=!1,this.productList.forEach(function(s){s.user_selected&&(e.push(s),i.push(s.pid),r.push(s.appid),o.push(s.category_id),s.has_commission||(t.hasNoCommission=!0))}),this.selectedProductList=e,this.callbackData={type:"1",templateId:"list",productData:e,productId:i,appidList:r,categoryidList:o,packId:"",smartNum:""}},onSelectedProduct:function(t){if(!(t>=this.productList.length)){var e=this.productList[t]
e.user_selected?(e.user_selected=!1,this.reportProduct({type:"cancel",buffer_count:1,buffer0:e.report_buffer})):(e.user_selected=!0,this.reportProduct({type:"select",buffer_count:1,buffer0:e.report_buffer})),this.$set(this.productList,t,e)}},onCancelSelectedAllProduct:function(){var t=[],e=[]
if(this.productList.forEach(function(i){i.user_selected&&(i.user_selected=!1,e.push(i)),t.push(i)}),this.productList=t,e.length){var i={type:"cancel",buffer_count:e.length}
e.forEach(function(t,e){i["buffer"+e]=t}),this.reportProduct(i)}},onScrollProductData:function(t){var e=this
t.target.scrollHeight-t.target.scrollTop<t.target.offsetHeight+100&&(clearTimeout(this.srcollProductDataTimer),this.srcollProductDataTimer=setTimeout(function(){e.productListShowGetMore&&e.httpGetProductList(!1,!1)},100)),clearTimeout(this.reportProductTimer),this.reportProductTimer=setTimeout(function(){e.calcProductDisplay()},200)},onSelectedCatergory:function(t){var e=this.categoryList[t]
this.categorySelected.id!==e.id&&(this.categorySelected=e,e.red_dot_flag&&(this.httpSetRedDotFlag(e),e.red_dot_flag=0,this.$set(this.categoryList,t,e)),2===e.id?this.productSearchPlacehodler="输入电影名称或主演搜索":3===e.id?this.productSearchPlacehodler="输入图书名称或作者搜索":this.productSearchPlacehodler="输入商品名称搜索",this.reportUserAction({type:"click_category",detail:e.id}),this.httpGetMerchant(!0),16!==e.id&&17!==e.id||(this.areaSelected={},this.areaWording="全部地区"))},onSelectedMerchant:function(t){this.merchantSelected=t,this.reportUserAction({type:"click_merchant",detail:t.id}),this.httpGetProductList(!0,!0)},onSelectedCommission:function(t){var e=this.commissionList[t]
this.commissionSelected.id!==e.id&&(this.commissionSelected=e,this.reportUserAction({type:"order_by_commission",detail:e.id}),this.httpGetProductList(!0,!1))},onInputSearchProduct:function(t){this.searchProduct.value=t},onSubmitSearchProduct:function(){this.httpGetProductList(!0,!0)},onKeyUpSearchProduct:function(t){13===t.keyCode&&this.onSubmitSearchProduct()},onClearSearchProduct:function(){this.searchProduct.value="",this.productSearchClearShow=!1,this.onSubmitSearchProduct()},onSearchMerchant:function(t){if(!t)return this.merchantSearchEmpty=!1,void(this.merchantSearchList=[])
this.httpSearchMerchant(t)},onGetMerchantMoreData:function(){this.httpGetMerchant(!1)},onSubmitArea:function(t){this.areaSelected=o.clone(t,!0)
for(var e="全部地区",i=["region","city","province","country"],r=0;r<i.length;r++){var s=i[r]
if(this.areaSelected[s]&&this.areaSelected[s].text){e=this.areaSelected[s].text
break}}this.areaWording=e,this.httpGetProductList(!0,!0)
for(var c="",a=0;a<i.length;a++){var n=i[a]
this.areaSelected[n]&&this.areaSelected[n].text&&(c&&(c="_"+c),c=this.areaSelected[n].text+c)}c||(c="全部地区"),this.reportUserAction({type:"click_location",detail:c})},onGetAreaData:function(t,e,i){this.areaSelected=o.clone(e,!0),this.httpGetAera(t,e,i)},onSearchArea:function(t){if(!t)return this.areaSearchEmpty=!1,void(this.areaSearchList=[])
this.httpSearchAera(t)},onShowQrCode:function(t){var e=this.productList[t]
this.reportProduct({type:"view_qrcode",buffer_count:1,buffer0:e.report_buffer}),e.qr_code_url&&"fail"!==e.qr_code_url?this.productQrCode=e.qr_code_url:(this.productQrCode="",this.httpGetProductQrCode({appid:e.appid,pid:e.pid,index:t}))},hasNoCommission:function(){for(var t=this.selectedProductList,e=0;e<t.length;e++)if(!t[e].has_commission)return!0
return!1},httpSetRedDotFlag:function(t){for(var e=1,i=1;i<t.id;i++)e*=2
r.post({url:"/cgi-bin/operatereddot?action=del",data:{bit:e,red_dot_type:2}})},httpGetBaseInfo:function(){var t=this
r.get({url:"/cgi-bin/cpsproductmaterial?action=get_basic_info"},function(e){e&&e.base_resp&&0===e.base_resp.ret?(t.baseInfo={can_be_publisher:e.can_be_publisher,is_publisher:e.is_publisher,publisher_no_permission_tips:e.publisher_no_permission_tips},t.categoryList=e.category_list,t.onSelectedCatergory(0)):t.$tipsErr("系统错误，请刷新重试")})},httpGetProductQrCode:function(t){var e=this
r.get({url:"/cgi-bin/cpsproductmaterial?action=get_product_qr_code",data:{appid:t.appid,pid:t.pid}},function(i){i&&i.base_resp&&0===i.base_resp.ret?t.index<e.productList.length&&(e.productList[t.index].qr_code_url=i.qr_code_url,e.productQrCode=i.qr_code_url):t.index<e.productList.length&&(e.productList[t.index].qr_code_url="fail",e.productQrCode="fail")})},httpGetMerchant:function(t){var e=this,i={category_id:e.categorySelected.id,count:e.merchantSearchCount,keyWord:""}
t?(i.offset=0,e.merchantTotalCount=-1,e.merchantList=[]):(i.offset=e.merchantList.length,i.offset>0&&(i.offset-=1)),e.merchantTotalCount>0&&i.offset>=e.merchantTotalCount||r.get({url:"/cgi-bin/cpsproductmaterial?action=search_merchant",data:i},function(i){if(i&&i.base_resp&&0===i.base_resp.ret){i.num_found=i.num_found||0,e.merchantTotalCount=i.num_found+1
var r=[]
i.merchant_list&&i.merchant_list.list&&(r=i.merchant_list.list)
var o=[]
t&&o.push({name:"全部商家",id:0}),r.forEach(function(t){o.push({name:t.biz_name,id:t.biz_name_id})})
var s=e.merchantList
s=(s=s.slice(0,e.merchantList.length)).concat(o),e.merchantList=s,t&&e.onSelectedMerchant(e.merchantList[0])}else e.$tipsErr("获取商家信息失败，请刷新重试")})},httpSearchMerchant:function(t){var e=this
e.merchantSearchEmpty=!1,r.get({url:"/cgi-bin/cpsproductmaterial?action=search_merchant",data:{category_id:e.categorySelected.id,keyWord:t,count:60,offset:0}},function(t){if(t&&t.base_resp&&0===t.base_resp.ret){var i=[]
t.merchant_list&&t.merchant_list.list&&(i=t.merchant_list.list)
var r=[]
i.forEach(function(t){r.push({name:t.biz_name,id:t.biz_name_id})}),e.merchantSearchList=r,0===r.length&&(e.merchantSearchEmpty=!0)}else e.merchantSearchList=[],e.merchantSearchEmpty=!0,e.$tipsErr("获取商家信息失败，请刷新重试")})},httpGetAera:function(t,e,i){var s=this,c={country:"",province:"",city:"",count:s.areaSearchCount,keyWord:""},a={country:1,province:2,city:3,region:4}[i]
a>=4&&e&&e.city&&e.city.text&&(c.city=e.city.text),a>=3&&e&&e.province&&e.province.text&&(c.province=e.province.text),a>=2&&e&&e.country&&e.country.text&&(c.country=e.country.text),t?(c.offset=0,s.areaList=[]):c.offset=s.areaList.length,r.get({url:"/cgi-bin/cpsproductmaterial?action=search_location",data:c},function(t){if(t&&t.base_resp&&0===t.base_resp.ret){var e=[]
t.location_list&&t.location_list.list&&(e=t.location_list.list),0===e.length?s.areaCanGetMore=!1:s.areaCanGetMore=!0
var i=[],r=t.location_list.current_key
e.forEach(function(t){i.push(t[r])})
var a=s.areaList
a=(a=a.slice(0,c.offset)).concat(i)
var n=o.clone(s.areaSelected,!0)
e&&e.length>0&&("province"===r&&(n.country=e[0].country),"city"===r&&(n.country=e[0].country,n.province=e[0].province),"region"===r&&(n.country=e[0].country,n.province=e[0].province,n.city=e[0].city)),s.areaSelected=n,s.areaList=a,s.areaListKey=r}else s.areaList=[],s.areaCanGetMore=!1,s.$tipsErr("获取地区信息失败，请刷新重试")})},httpSearchAera:function(t){var e=this
e.areaSearchEmpty=!1,r.get({url:"/cgi-bin/cpsproductmaterial?action=search_location",data:{keyWord:t,count:20,offset:0}},function(t){if(t&&t.base_resp&&0===t.base_resp.ret){var i=[]
t.location_list&&t.location_list.list&&(i=t.location_list.list)
var r=[]
i.forEach(function(t){for(var e={},i=["country","province","city","region"],o=0;o<i.length;o++){var s=i[o]
if(!t[s])break
e[s]=t[s]}r.push(e)}),e.areaSearchList=r,0===r.length&&(e.areaSearchEmpty=!0)}else e.areaSearchList=[],e.areaSearchEmpty=!0,e.$tipsErr("获取商家信息失败，请刷新重试")})},handleProductInfo:function(t){var e=""
2===t.category_id&&(t.movie.actor.forEach(function(t){0!==e.length&&0!==t.length&&(e+="/"),e+=t}),t.cps_desc_long="主演："+e),3===t.category_id&&(t.book.author.forEach(function(t){0!==e.length&&0!==t.length&&(e+="/"),e+=t}),t.cps_desc_long="作者："+e),16===t.category_id&&(t&&t.hotel&&t.hotel.address&&(e=t.hotel.address),t.cps_desc_long="地址："+e),17===t.category_id&&(t&&t.scenic&&t.scenic.address&&(e=t.scenic.address),t.cps_desc_long="地址："+e)},httpGetProductList:function(t,e){var i=this,o=this,s={category_id:o.categorySelected.id,source_id:o.merchantSelected.id,keyWord:o.searchProduct.value||"",order_by_commission_ratio:o.commissionSelected.id||0,with_cps:0,count:o.productSearchCount,session_id:o.sessionId}
if(16===s.category_id||17===s.category_id)for(var c=["region","city","province","country"],a=0;a<c.length;a++){var n=c[a]
this.areaSelected[n]&&this.areaSelected[n].text?s[n]=this.areaSelected[n].text:s[n]=""}t?(s.offset=0,o.productTotalCount=-1,o.productList=[],o.productListLoading=!0,o.reportedProductList=[]):s.offset=o.productList.length,0===s.category_id&&0===s.source_id&&(e=!1),0===s.source_id&&(e=!1),r.post({url:"/cgi-bin/cpsproductmaterial?action=search_product",data:s},function(r){if(o.searchProduct.value?o.productSearchClearShow=!0:o.productSearchClearShow=!1,r&&r.base_resp&&0===r.base_resp.ret){if(o.productTotalCount=r.num_found,e?(setTimeout(function(){o.productTotalCount=-1},2e3),o.productTotalCount=o.productTotalCount||0):o.productTotalCount=-1,r.product_list=r.product_list||[],0===r.product_list.length)return t&&(o.productListLoading=!1,o.productList=[]),void(i.productListShowGetMore=!1)
i.productListShowGetMore=!0,r.product_list.forEach(function(t){i.handleProductInfo(t)})
var c=o.productList
c=(c=c.slice(0,s.offset)).concat(r.product_list),o.productListLoading=!1,o.productList=c,setTimeout(function(){o.calcProductDisplay()},1e3)}else o.productListLoading=!1,r&&r.base_resp&&353002===r.base_resp.ret?o.$tipsErr("目前仅支持中英文搜索"):r&&r.base_resp&&353003===r.base_resp.ret?o.$tipsErr("操作频繁，请稍后再试"):o.$tipsErr("系统失败，请重试")})},httpSetPulisher:function(){this.btnOpenPublisherLoading=!0
var t=this
r.get({url:"/cgi-bin/cpsproductmaterial?action=fast_open_cps_publisher"},function(e){t.btnOpenPublisherLoading=!1,e&&e.base_resp&&0===e.base_resp.ret?(t.dialogTipsOpen=!1,t.hide("callback")):t.$tipsErr("系统错误，请刷新重试")})},calcProductDisplay:function(){if(this.$refs.productContainer){for(var t=this.$refs.productContainer.getBoundingClientRect(),e=this.$refs.productItem,i=[],r=0;r<e.length;r++){var o=e[r].getBoundingClientRect()
if(!(o.bottom<t.top)){if(o.top>t.bottom)break
if(o.top>t.top&&o.bottom<t.bottom)i.push(this.productList[r])
else{var s=Math.max(o.top,t.top)
Math.min(o.bottom,t.bottom)-s>=.5*o.height&&i.push(this.productList[r])}}}this.reportProductDisplay(i)}},reportProductDisplay:function(t){var e=[],i=this
if(t.forEach(function(t){for(var r=!1,o=0;o<i.reportedProductList.length;o++)if(t.pid===i.reportedProductList[o].pid){r=!0
break}r||e.push(t)}),0!==e.length){var r={type:"display",buffer_count:e.length}
e.forEach(function(t,e){r["buffer"+e]=t.report_buffer,i.reportedProductList.push(t)}),this.reportProduct(r)}},reportProductInsertToMsg:function(){var t=this.callbackData.productData,e={type:"insert_to_msg",buffer_count:t.length}
t.forEach(function(t,i){e["buffer"+i]=t.report_buffer}),this.reportProduct(e)},reportProduct:function(t){r.post({url:" /cgi-bin/cpsproductmaterial?action=product_report",data:t})},reportUserAction:function(t){t.type&&r.get({url:" /cgi-bin/cpsproductmaterial?action=report",data:t})}}})})
define("vue-weui/src/table/table.js",["vue-weui/src/radio/radio.js","vue-weui/src/checkbox/checkbox.js","vue-weui/src/table/table.css.js","vue-weui/src/table/table.tpl.js","vue-weui/src/utils/object.js"],function(t,e,a){"use strict"
t("vue-weui/src/radio/radio.js"),t("vue-weui/src/checkbox/checkbox.js"),t("vue-weui/src/table/table.css.js")
var s=t("vue-weui/src/table/table.tpl.js"),l=t("vue-weui/src/utils/object.js").assign
Vue.component("mp-table",{template:s,props:{data:{type:Object,default:{head:[],body:[],opt:{}}},extclass:{type:String,default:""},loading:{type:Boolean,default:!1}},data:function(){return{selallclass:"",trSelChecking:"",trSelAll:"",trSelCount:0}},mounted:function(){this.changeSelAllData()},computed:{headData:function(){return this.data.head?this.data.head:[]},bodyData:function(){for(var e=this,s=this.data.body?this.data.body:[],i=[],t=function(t){var a=l({},s[t])
a.__index=t,i.push(a),-1===["custom"].indexOf(a.type)&&(a.tds=e.headData.map(function(t){var e=a[t.key]
return"string"==typeof e&&(e={content:e}),e.key=t.key,e}))},a=0;a<s.length;a++)t(a)
return i},optData:function(){return this.data.opt?this.data.opt:{}},isEmpty:function(){return 0===this.bodyData.length},hasHeadSlot:function(){return this.$slots.head&&this.$slots.head.length},column:function(){var t=1
if(this.headData.length)t=this.headData.length
else if(this.bodyData.length)for(var e=0;e<this.bodyData.length;e++)if(this.bodyData[e].tds){t=this.bodyData[e].tds.length
break}return this.optData.editMode&&t++,t}},methods:{handleClickContent:function(t,e,a){var s={}
s.tr=t,s.row=e,s.column=a,console.log(s),this.$emit("click-content",s)},change:function(t){"multi"===this.optData.selMode&&this.changeSelAllData(),this.$emit("row-selected",{row:t,tr:this.bodyData[t]})},changeSelAllData:function(){if(this.optData.editMode){for(var t=0,e=0,a=0;a<this.bodyData.length;a++)this.bodyData[a].tds&&(t++,"checked"!==this.bodyData[a].checked&&!0!==this.bodyData[a].checked||e++)
0<e||"force"===this.optData.editMode?this.selallclass="weui-desktop-table_bat":this.selallclass="",this.trSelChecking=0<e&&t!==e?"checking":"",this.trSelAll=e===t,this.trSelCount=e}},changeAll:function(){if(!1===this.trSelAll){for(var t=0;t<this.bodyData.length;t++)this.bodyData[t].tds&&(this.bodyData[t].checked=!1)
this.$emit("row-unselect-all")}else{for(var e=0;e<this.bodyData.length;e++)this.bodyData[e].tds&&(this.bodyData[e].checked=!0)
this.$emit("row-select-all")}this.changeSelAllData()},unCheckAll:function(){this.trSelAll=!1,this.changeAll()}}})})
define("vue-weui/src/table/table.css.js", [], function (require, exports, module){module.exports = "/*How to usefont-family: 'wechatnum';*/.weui-desktop-table {  width: 100%;  border-collapse: collapse;  text-align: left;  /*tr{      &:first-child{        th{          &:first-child{            padding-left: @weuiDesktopTableCellPaddingX;            text-align: left;          }        }      }    } */}.weui-desktop-table th,.weui-desktop-table td {  padding: 18.8px 10px;  word-break: break-all;}.weui-desktop-table th:last-child,.weui-desktop-table td:last-child {  padding-right: 20px;  text-align: right;}.weui-desktop-table th:last-child .weui-desktop-link,.weui-desktop-table td:last-child .weui-desktop-link {  display: inline-block;  vertical-align: middle;  margin-right: 0;  margin-left: 14px;}.weui-desktop-table th:last-child .weui-desktop-link:first-child,.weui-desktop-table td:last-child .weui-desktop-link:first-child {  margin-left: 0;}.weui-desktop-table th:first-child,.weui-desktop-table td:first-child {  padding-left: 20px;  text-align: left;}.weui-desktop-table th {  font-weight: 400;}.weui-desktop-table th.weui-desktop-th__dropdown__wrp {  padding: 0;}.weui-desktop-table td {  border-bottom: 1px solid #E4E8EB;}.weui-desktop-table td:first-child {  padding-left: 20px;  text-align: left;}.weui-desktop-table td[loading=\"true\"],.weui-desktop-table td[empty=\"true\"] {  color: #9A9A9A;  text-align: center;  padding: 65px 0;}.weui-desktop-table__hd {  background-color: #F6F8F9;  color: #9A9A9A;}.weui-desktop-table__opr {  padding-bottom: 20px;  border-bottom: 1px solid #E4E8EB;}th.weui-desktop-table_rank,td.weui-desktop-table_rank {  text-align: right;}td.weui-desktop-table_rank {  padding-right: 24px;}th.weui-desktop-table_rank {  position: relative;  cursor: pointer;  padding-right: 20px;}th.weui-desktop-table_rank:before,th.weui-desktop-table_rank:after {  content: \" \";  position: absolute;  right: 10px;  top: 50%;}th.weui-desktop-table_rank:before {  display: inline-block;  width: 0;  height: 0;  border-width: 4px;  border-style: dashed;  border-color: transparent;  border-top-width: 0;  border-bottom-color: #D7D7D7;  border-bottom-style: solid;  margin-top: -6px;}th.weui-desktop-table_rank:after {  display: inline-block;  width: 0;  height: 0;  border-width: 4px;  border-style: dashed;  border-color: transparent;  border-bottom-width: 0;  border-top-color: #D7D7D7;  border-top-style: solid;  margin-bottom: -6px;}th.weui-desktop-table_rank:hover:before {  border-bottom-color: #BBBBBB;}th.weui-desktop-table_rank:hover:after {  border-top-color: #BBBBBB;}th.weui-desktop-table_rank_up:after {  display: none;}th.weui-desktop-table_rank_down:before {  display: none;}.weui-desktop-table_dropdown {  position: relative;}.weui-desktop-table_dropdown .weui-desktop-form__drop-down-label {  position: absolute;  top: 0;  background-color: transparent;  border-width: 0;  line-height: 57px;}.weui-desktop-table_dropdown .weui-desktop-form__drop-down__dd {  line-height: 2.57142857;}.weui-desktop-table__row_current.weui-desktop-table__row_current > td {  padding: 0;}.weui-desktop-table__row_current td {  border-bottom-width: 0;}.weui-desktop-table__fold-table {  background: #FFFFFF;  box-shadow: 0 1px 20px 0 rgba(0, 0, 0, 0.1);  border-radius: 2px;}.weui-desktop-table__fold-context {  position: relative;}.weui-desktop-table__fold-context:before {  content: \" \";  border-top: 1px solid #E4E8EB;  position: absolute;  top: -18.8px;  left: 0;  right: 0;}.weui-desktop-table_bat th:first-child .weui-desktop-form__check-label,.weui-desktop-table_bat td:first-child .weui-desktop-form__check-label {  visibility: visible;  opacity: 1;}.weui-desktop-table__check-cell {  text-align: left;}.weui-desktop-table__check-cell .weui-desktop-form__check-label {  visibility: hidden;  opacity: 0;  margin-top: -4px;  -webkit-transition: opacity .34s;  transition: opacity .34s;}tr:hover .weui-desktop-table__check-cell .weui-desktop-form__check-label {  visibility: visible;  opacity: 1;}.weui-desktop-table__check-cell.weui-desktop-table__check-cell {  padding-left: 10px;  padding-right: 5px;  width: 1px;}.weui-desktop-table__check-cell + th,.weui-desktop-table__check-cell + td {  padding-left: 0;}.weui-desktop-table__row_checked {  background-color: #F4FBF4;}.weui-desktop-table__row_bat {  background-color: #F6F8F9;}.weui-desktop-table__row_bat td {  border-bottom-width: 0;  padding-left: 36px;}.weui-desktop-table__bat-context {  position: relative;  padding-left: 18px;}.weui-desktop-table__bat-context:before {  content: \" \";  border-top: 1px solid #E4E8EB;  position: absolute;  top: -18.8px;  left: 18px;  right: 0;}.weui-desktop-table_th-split-default th {  border-bottom: 1px solid #E4E8EB;  border-right: 1px solid #E4E8EB;  padding: 10px;}.weui-desktop-table_th-split-default th:last-child {  border-right-width: 0;}.weui-desktop-table_odd_col_primary td:nth-child(odd) {  background-color: #F4FBF4;}.weui-desktop-table_even_col_primary td:nth-child(even) {  background-color: #F4FBF4;}.weui-desktop-table__title {  padding-bottom: 10px;  font-weight: 400;  font-size: 14px;}";});